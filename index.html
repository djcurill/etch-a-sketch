<!DOCTYPE html>

<html>
<head lang="en">
    <title>Etch-a-Sketch</title>
    <meta charset="utf-8">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>Etch-a-Sketch</h1>
    <div class="controls">
        <button id="clear-button">Clear</button>
        <div>
            <p class="label">Pixel Size</p>
            <input type="range" min="2" max="30" value="15" class="slidebar">
        </div>
    </div>
    <div class="container">
    </div>
</body>
<script>
    const n = 30;
    const COLORS = ["#AB05F2","#5A13F2","#2745F2","#138AF2"];
    let container = document.getElementsByClassName("container")[0];

    function choose(arr){
        return arr[Math.floor(Math.random() * arr.length)]
    }

    function fillCell(event){
        event.target.style.backgroundColor = choose(COLORS);
    }

    function  createCell(col, row){
        let cell = document.createElement("div");
        cell.classList.add("cell");
        cell.style.gridColumn = `${col}`;
        cell.style.gridRow = `${row}`;
        cell.addEventListener("mouseover",fillCell);
        return cell
    }

    function populateGrid(n){
        for (let col = 1; col < n + 1; col++){
            for (let row = 1; row < n + 1; row++){
                container.appendChild(createCell(col, row));
            }
        }
    }

    function createGrid(n){
        container.innerHTML = "";
        container.style.gridTemplateColumns = `repeat(${n},1fr)`;
        container.style.gridTemplateRows    = `repeat(${n},1fr)`;
        populateGrid(n);
    }

    createGrid(n);


</script>

</html>